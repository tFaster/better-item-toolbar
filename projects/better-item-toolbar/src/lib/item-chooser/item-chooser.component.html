<ng-container *ngIf="items.length > 0">

  <div class="toolbar-item-chooser-wrapper"
       (mouseleave)="isShown = false">
    <button class="toolbar-item-chooser-add-button"
            (mouseenter)="isShown = true"
            (keydown)="onAddButtonKeydown($event)"
            cdkMonitorElementFocus
            [tabIndex]="isShown ? -1 : 0"
            #itemChooserAddButton
            (focusout)="isShown = isFocusOnAddButtonOrInItemContainer($event)">
      <ng-container *ngIf="itemChooserAddIconTemplate; else defaultAddIcon"
                    [ngTemplateOutlet]="itemChooserAddIconTemplate"></ng-container>
      <ng-template #defaultAddIcon>
        <div class="toolbar-item-chooser-default-add-icon">+</div>
      </ng-template>
    </button>

    <div [@showHide]="isShown ? 'shown' : 'hidden'"
         class="toolbar-item-chooser-available-item-container"
         #availableItemContainer
         (keydown.escape)="isShown = false">
      <ng-container *ngFor="let item of items">
        <button class="toolbar-item-chooser-available-item"
                (click)="onItemClick(item)"
                [title]="item.itemChooserLabel"
                [tabIndex]="isShown ? 0 : -1"
                cdkMonitorElementFocus
                (focusout)="isShown = isFocusOnAddButtonOrInItemContainer($event)">
          <ng-container *ngIf="item.itemChooserTemplate; else defaultItemChooserTemplate"
                        [ngTemplateOutlet]="item.itemChooserTemplate"
                        [ngTemplateOutletContext]="{$implicit: item.config}"></ng-container>
          <ng-template #defaultItemChooserTemplate>
            <div class="toolbar-item-chooser-default-item-template">{{item.itemChooserLabel}}</div>
          </ng-template>
        </button>
      </ng-container>
    </div>

  </div>

</ng-container>


